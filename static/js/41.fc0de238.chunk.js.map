{"version":3,"file":"static/js/41.fc0de238.chunk.js","mappings":"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","sources":["lexical/shared/useLayoutEffect.js","lexical/themes/StickyEditorTheme.js","lexical/nodes/StickyComponent.jsx","../node_modules/@lexical/react/LexicalNestedComposer.prod.mjs"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nimport { useEffect, useLayoutEffect } from 'react';\nimport { CAN_USE_DOM } from './canUseDOM';\n\nconst useLayoutEffectImpl = CAN_USE_DOM ? useLayoutEffect : useEffect;\n\nexport default useLayoutEffectImpl;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nimport './StickyEditorTheme.css';\n\nimport baseTheme from './PlaygroundEditorTheme';\n\nconst theme = {\n  ...baseTheme,\n  paragraph: 'StickyEditorTheme__paragraph',\n};\n\nexport default theme;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nimport './StickyNode.css';\n\nimport { useLexicalComposerContext } from '@lexical/react/LexicalComposerContext';\nimport { LexicalErrorBoundary } from '@lexical/react/LexicalErrorBoundary';\nimport { HistoryPlugin } from '@lexical/react/LexicalHistoryPlugin';\nimport { LexicalNestedComposer } from '@lexical/react/LexicalNestedComposer';\nimport { PlainTextPlugin } from '@lexical/react/LexicalPlainTextPlugin';\nimport { $getNodeByKey } from 'lexical';\nimport * as React from 'react';\nimport { useEffect, useRef } from 'react';\nimport useLayoutEffect from '../shared/useLayoutEffect';\n\nimport { useSharedHistoryContext } from '../context/SharedHistoryContext';\nimport StickyEditorTheme from '../themes/StickyEditorTheme';\nimport ContentEditable from '../ui/ContentEditable';\nimport Placeholder from '../ui/Placeholder';\nimport { $isStickyNode } from './StickyNode';\n\nfunction positionSticky(stickyElem, positioning) {\n  const style = stickyElem.style;\n  const rootElementRect = positioning.rootElementRect;\n  const rectLeft = rootElementRect !== null ? rootElementRect.left : 0;\n  const rectTop = rootElementRect !== null ? rootElementRect.top : 0;\n  style.top = rectTop + positioning.y + 'px';\n  style.left = rectLeft + positioning.x + 'px';\n}\n\nexport default function StickyComponent({ x, y, nodeKey, color, caption }) {\n  const [editor] = useLexicalComposerContext();\n  const stickyContainerRef = useRef(null);\n  const positioningRef = useRef({\n    isDragging: false,\n    offsetX: 0,\n    offsetY: 0,\n    rootElementRect: null,\n    x: 0,\n    y: 0,\n  });\n\n  useEffect(() => {\n    const position = positioningRef.current;\n    position.x = x;\n    position.y = y;\n\n    const stickyContainer = stickyContainerRef.current;\n    if (stickyContainer !== null) {\n      positionSticky(stickyContainer, position);\n    }\n  }, [x, y]);\n\n  useLayoutEffect(() => {\n    const position = positioningRef.current;\n    const resizeObserver = new ResizeObserver((entries) => {\n      for (let i = 0; i < entries.length; i++) {\n        const entry = entries[i];\n        const { target } = entry;\n        position.rootElementRect = target.getBoundingClientRect();\n        const stickyContainer = stickyContainerRef.current;\n        if (stickyContainer !== null) {\n          positionSticky(stickyContainer, position);\n        }\n      }\n    });\n\n    const removeRootListener = editor.registerRootListener((nextRootElem, prevRootElem) => {\n      if (prevRootElem !== null) {\n        resizeObserver.unobserve(prevRootElem);\n      }\n      if (nextRootElem !== null) {\n        resizeObserver.observe(nextRootElem);\n      }\n    });\n\n    const handleWindowResize = () => {\n      const rootElement = editor.getRootElement();\n      const stickyContainer = stickyContainerRef.current;\n      if (rootElement !== null && stickyContainer !== null) {\n        position.rootElementRect = rootElement.getBoundingClientRect();\n        positionSticky(stickyContainer, position);\n      }\n    };\n\n    window.addEventListener('resize', handleWindowResize);\n\n    return () => {\n      window.removeEventListener('resize', handleWindowResize);\n      removeRootListener();\n    };\n  }, [editor]);\n\n  useEffect(() => {\n    const stickyContainer = stickyContainerRef.current;\n    if (stickyContainer !== null) {\n      // Delay adding transition so we don't trigger the\n      // transition on load of the sticky.\n      setTimeout(() => {\n        stickyContainer.style.setProperty('transition', 'top 0.3s ease 0s, left 0.3s ease 0s');\n      }, 500);\n    }\n  }, []);\n\n  const handlePointerMove = (event) => {\n    const stickyContainer = stickyContainerRef.current;\n    const positioning = positioningRef.current;\n    const rootElementRect = positioning.rootElementRect;\n    if (stickyContainer !== null && positioning.isDragging && rootElementRect !== null) {\n      positioning.x = event.pageX - positioning.offsetX - rootElementRect.left;\n      positioning.y = event.pageY - positioning.offsetY - rootElementRect.top;\n      positionSticky(stickyContainer, positioning);\n    }\n  };\n\n  const handlePointerUp = (event) => {\n    const stickyContainer = stickyContainerRef.current;\n    const positioning = positioningRef.current;\n    if (stickyContainer !== null) {\n      positioning.isDragging = false;\n      stickyContainer.classList.remove('dragging');\n      editor.update(() => {\n        const node = $getNodeByKey(nodeKey);\n        if ($isStickyNode(node)) {\n          node.setPosition(positioning.x, positioning.y);\n        }\n      });\n    }\n    document.removeEventListener('pointermove', handlePointerMove);\n    document.removeEventListener('pointerup', handlePointerUp);\n  };\n\n  const handleDelete = () => {\n    editor.update(() => {\n      const node = $getNodeByKey(nodeKey);\n      if ($isStickyNode(node)) {\n        node.remove();\n      }\n    });\n  };\n\n  const handleColorChange = () => {\n    editor.update(() => {\n      const node = $getNodeByKey(nodeKey);\n      if ($isStickyNode(node)) {\n        node.toggleColor();\n      }\n    });\n  };\n\n  const { historyState } = useSharedHistoryContext();\n\n  return (\n    <div ref={stickyContainerRef} className=\"sticky-note-container\">\n      <div\n        className={`sticky-note ${color}`}\n        onPointerDown={(event) => {\n          const stickyContainer = stickyContainerRef.current;\n          if (stickyContainer == null || event.button === 2 || event.target !== stickyContainer.firstChild) {\n            // Right click or click on editor should not work\n            return;\n          }\n          const stickContainer = stickyContainer;\n          const positioning = positioningRef.current;\n          if (stickContainer !== null) {\n            const { top, left } = stickContainer.getBoundingClientRect();\n            positioning.offsetX = event.clientX - left;\n            positioning.offsetY = event.clientY - top;\n            positioning.isDragging = true;\n            stickContainer.classList.add('dragging');\n            document.addEventListener('pointermove', handlePointerMove);\n            document.addEventListener('pointerup', handlePointerUp);\n            event.preventDefault();\n          }\n        }}\n      >\n        <button onClick={handleDelete} className=\"delete\" aria-label=\"Delete sticky note\" title=\"Delete\">\n          X\n        </button>\n        <button onClick={handleColorChange} className=\"color\" aria-label=\"Change sticky note color\" title=\"Color\">\n          <i className=\"bucket\" />\n        </button>\n        <LexicalNestedComposer initialEditor={caption} initialTheme={StickyEditorTheme}>\n          <HistoryPlugin externalHistoryState={historyState} />\n\n          <PlainTextPlugin\n            contentEditable={<ContentEditable className=\"StickyNode__contentEditable\" />}\n            placeholder={<Placeholder className=\"StickyNode__placeholder\">What's up?</Placeholder>}\n            ErrorBoundary={LexicalErrorBoundary}\n          />\n        </LexicalNestedComposer>\n      </div>\n    </div>\n  );\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nimport{useCollaborationContext as e}from\"@lexical/react/LexicalCollaborationContext\";import{LexicalComposerContext as t,createLexicalComposerContext as r}from\"@lexical/react/LexicalComposerContext\";import{useRef as o,useContext as n,useMemo as l,useEffect as i}from\"react\";import{jsx as a}from\"react/jsx-runtime\";function s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}var c=s((function(e){const t=new URLSearchParams;t.append(\"code\",e);for(let e=1;e<arguments.length;e++)t.append(\"v\",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}));function p(e){const t=e.transform();return null!==t?new Set([t]):new Set}function d({initialEditor:s,children:d,initialNodes:f,initialTheme:u,skipCollabChecks:m}){const h=o(!1),x=n(t);null==x&&c(9);const[_,{getTheme:g}]=x,v=l((()=>{const e=u||g()||void 0,t=r(x,e);if(void 0!==e&&(s._config.theme=e),s._parentEditor=_,f)for(let e of f){let t=null,r=null;if(\"function\"!=typeof e){const o=e;e=o.replace,t=o.with,r=o.withKlass||null}const o=s._nodes.get(e.getType());s._nodes.set(e.getType(),{exportDOM:o?o.exportDOM:void 0,klass:e,replace:t,replaceWithKlass:r,transforms:p(e)})}else{const e=s._nodes=new Map(_._nodes);for(const[t,r]of e)s._nodes.set(t,{exportDOM:r.exportDOM,klass:r.klass,replace:r.replace,replaceWithKlass:r.replaceWithKlass,transforms:p(r.klass)})}return s._config.namespace=_._config.namespace,s._editable=_._editable,[s,t]}),[]),{isCollabActive:w,yjsDocMap:b}=e(),M=m||h.current||b.has(s.getKey());return i((()=>{M&&(h.current=!0)}),[M]),i((()=>_.registerEditableListener((e=>{s.setEditable(e)}))),[s,_]),a(t.Provider,{value:v,children:!w||M?d:null})}export{d as LexicalNestedComposer};\n"],"names":["CAN_USE_DOM","useLayoutEffect","useEffect","baseTheme","paragraph","positionSticky","stickyElem","positioning","style","rootElementRect","rectLeft","left","rectTop","top","y","x","StickyComponent","_ref","nodeKey","color","caption","editor","useLexicalComposerContext","stickyContainerRef","useRef","positioningRef","isDragging","offsetX","offsetY","position","current","stickyContainer","resizeObserver","ResizeObserver","entries","i","length","entry","target","getBoundingClientRect","removeRootListener","registerRootListener","nextRootElem","prevRootElem","unobserve","observe","handleWindowResize","rootElement","getRootElement","window","addEventListener","removeEventListener","setTimeout","setProperty","handlePointerMove","event","pageX","pageY","handlePointerUp","classList","remove","update","node","$getNodeByKey","$isStickyNode","setPosition","document","historyState","useSharedHistoryContext","_jsx","ref","className","children","_jsxs","onPointerDown","button","firstChild","stickContainer","clientX","clientY","add","preventDefault","onClick","handleDelete","title","handleColorChange","toggleColor","LexicalNestedComposer","initialEditor","initialTheme","StickyEditorTheme","HistoryPlugin","externalHistoryState","PlainTextPlugin","contentEditable","ContentEditable","placeholder","Placeholder","ErrorBoundary","LexicalErrorBoundary","e","c","t","URLSearchParams","append","arguments","Error","__esModule","Object","prototype","hasOwnProperty","call","default","p","transform","Set","d","s","initialNodes","f","u","skipCollabChecks","m","h","o","n","_","getTheme","g","v","l","r","_config","theme","_parentEditor","replace","with","withKlass","_nodes","get","getType","set","exportDOM","klass","replaceWithKlass","transforms","Map","namespace","_editable","isCollabActive","w","yjsDocMap","b","M","has","getKey","registerEditableListener","setEditable","a","Provider","value"],"sourceRoot":""}